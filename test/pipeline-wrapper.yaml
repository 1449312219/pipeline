apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
#  generateName: git-clone-checking-out-a-commit-
  name: tt
spec:
  pipelineRef:
    name: pipeline-wrapper
  serviceAccountName: pipeline-git-ssh
  workspaces:
  - name: all-workspaces
    persistentVolumeClaim:
      claimName: pipeline-all-workspaces-pvc
  - name: workspace
    persistentVolumeClaim:
      claimName: pipeline-all-workspaces-pvc
    subPath: abcdefjhijklmnopqrstuvwsyz
  - name: gitea-user-token
    secret:
      SecretName: gitea-user-token
  params:
  - name: work-id
    value: "1111"
  - name: repo-url
    value: ssh://git@10.1.40.43:30220/root/test.git 
  - name: repo-full-name
    value: root/test
  - name: repo-ref
    value: 7a42dbc0bc0118fcb5346571c9d77b0eee5b02cd 
  - name: version
    value: "1.0.0"
  - name: before-env
    value: auto-test
  - name: env
    value: auto-test
  - name: src-root
    value: api-gateway
