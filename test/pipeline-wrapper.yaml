apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
#  generateName: git-clone-checking-out-a-commit-
  name: tt
spec:
  pipelineRef:
    name: pipeline-wrapper
  serviceAccountName: pipeline-git-ssh
  workspaces:
  - name: project 
    persistentVolumeClaim:
      claimName: pipeline-all-workspaces-pvc
    subPath: abcdefjhijklmnopqrstuvwsyz
  - name: gitea-user-token
    secret:
      SecretName: gitea-user-token
  params:
  - name: pipeline-workspace-subpath-for-proejct
    value: abcdefjhijklmnopqrstuvwsyz
  - name: repo-url
    value: ssh://git@10.1.40.43:30220/root/test.git 
  - name: repo-full-name
    value: root/test
  - name: repo-ref
    value: a6c800be597a92864b1179f329edf977b99be454 
  - name: notify
    value: ddddddddddddddddddddddddddd "dddd" dddd
  - name: version
    value: "1.0.0"
  - name: before-env
    value: auto-test
  - name: env
    value: auto-test
  - name: pipeline-name
    value: pipeline-a-auto
  - name: pipeline-serviceaccountnames
    value: |
      - taskName: fetch-repo
        serviceAccountName: pipeline-git-ssh
      - taskName: notify-auto-test-result-git-tag
        serviceAccountName: pipeline-git-ssh
  - name: pipeline-workspaces
    value: |
      - name: all-workspaces
        persistentVolumeClaim:
          claimName: pipeline-all-workspaces-pvc
      - name: mvn-settings
        configmap:
          name: mvn-settings
      - name: mvn-local-repo
        persistentVolumeClaim:
          claimName: pipeline-mvn-repo-pvc
      - name: gitea-user-token
        secret:
          SecretName: gitea-user-token
  - name: pipeline-params
    value: |
      - name: work-id
        value: "1111"
      - name: src-root
        value: api-gateway
